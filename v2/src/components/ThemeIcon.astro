---
const allThemes = ["dark", "light", "cupcake"];
---

<div class="dropdown">
  <div tabindex="0" role="button" class="btn m-1">
    <img src="/icons/palette.svg" alt="Tema" width="24" height="24" />
  </div>
  <ul
    tabindex="0"
    class="dropdown-content menu bg-base-100 rounded-box z-1 w-52 p-2 shadow-sm"
  >
    {
      allThemes.map((theme) => (
        <li>
          <a href="#" data-theme={theme}>{theme}</a>
        </li>
      ))
    }
  </ul>
</div>

<!-- ðŸ”½ Tema seÃ§imi iÃ§in client-side script -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const themeButtons = document.querySelectorAll("[data-theme]");

    themeButtons.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        e.preventDefault();
        const selectedTheme = btn.getAttribute("data-theme") ?? "cupcake";
        document.documentElement.setAttribute("data-theme", selectedTheme);
        localStorage.setItem("theme", selectedTheme);
      });
    });

    const savedTheme = localStorage.getItem("theme") ?? "cupcake";
    document.documentElement.setAttribute("data-theme", savedTheme);
  });
</script>

