---
import HeaderLink from "./HeaderLink.astro";

// İkonları import et
import HomeIcon from "../assets/icons/home.svg";
import BriefcaseIcon from "../assets/icons/briefcase.svg";
import HelpIcon from "../assets/icons/help.svg";
import BookIcon from "../assets/icons/book.svg";
import TagsIcon from "../assets/icons/tags.svg";
import MailIcon from "../assets/icons/mail.svg";
import TitleIcon from "../assets/icons/title.svg";

interface Props {
  prefix: string;
  t: any;
  homeSlug: string;
  blogSlug: string;
  tagsSlug: string;
  practiceMenuClass?: string;
  showIcons?: boolean;
}

const {
  prefix,
  t,
  homeSlug,
  blogSlug,
  tagsSlug,
  practiceMenuClass = "menu p-2 bg-base-100 rounded-box shadow",
  showIcons = false,
} = Astro.props as Props;

// Menü öğelerini tek bir dizide topla
const menuItems = [
  {
    href: homeSlug,
    label: t['nav.home'],
    icon: HomeIcon,
    type: 'link'
  },
  {
    label: t['nav.practiceAreas'],
    icon: BriefcaseIcon,
    type: 'dropdown',
    items: [
      {
        href: `${blogSlug}/vehicle-value-loss`,
        label: t['nav.practiceAreasItems.vehicleValueLoss'],
        icon: TitleIcon
      },
      {
        href: `${blogSlug}/family-law`,
        label: t['nav.practiceAreasItems.familyLaw'],
        icon: TitleIcon
      },
      {
        href: `${blogSlug}/cybercrimes`,
        label: t['nav.practiceAreasItems.cybercrimes'],
        icon: TitleIcon
      },
      {
        href: `${blogSlug}/real-estate-zoning`,
        label: t['nav.practiceAreasItems.realEstateZoningLaw'],
        icon: TitleIcon
      },
      {
        href: `${blogSlug}/inheritance-law`,
        label: t['nav.practiceAreasItems.inheritanceLaw'],
        icon: TitleIcon
      },
      {
        href: `${blogSlug}/foreigners-citizenship`,
        label: t['nav.practiceAreasItems.foreignersCitizenshipLaw'],
        icon: TitleIcon
      },
      {
        href: `${blogSlug}/criminal-law`,
        label: t['nav.practiceAreasItems.criminalLaw'],
        icon: TitleIcon
      },
      {
        href: `${blogSlug}/labor-law`,
        label: t['nav.practiceAreasItems.laborLaw'],
        icon: TitleIcon
      },
      {
        href: `${blogSlug}/enforcement-bankruptcy`,
        label: t['nav.practiceAreasItems.enforcementBankruptcyLaw'],
        icon: TitleIcon
      }
    ]
  },
  {
    href: `${prefix}/faq`,
    label: t['nav.faq'],
    icon: HelpIcon,
    type: 'link'
  },
  {
    href: `${prefix}/notes`,
    label: t['nav.notes'],
    icon: BookIcon,
    type: 'link'
  },
  {
    href: blogSlug,
    label: t['nav.blog'],
    icon: BookIcon,
    type: 'link'
  },
  {
    href: tagsSlug,
    label: t['nav.tags'],
    icon: TagsIcon,
    type: 'link'
  },
  {
    href: `${prefix}/contact`,
    label: t['nav.contact'],
    icon: MailIcon,
    type: 'link'
  }
];
---

{menuItems.map((item) => (
  <li>
    {item.type === 'link' ? (
      <HeaderLink href={item.href}>
        <span class={showIcons ? "inline-flex items-center gap-2" : ""}>
          {showIcons && <item.icon class="w-4 h-4" />}
          {item.label}
        </span>
      </HeaderLink>
    ) : (
      <details>
        <summary class={showIcons ? "inline-flex items-center gap-2" : ""}>
          {showIcons && <item.icon class="w-4 h-4" />}
          {item.label}
        </summary>
        <ul class={practiceMenuClass}>
          {item.items?.map((subItem) => (
            <li>
              <HeaderLink href={subItem.href}>
                <span class={showIcons ? "inline-flex items-center gap-2" : ""}>
                  {/* {showIcons && <subItem.icon class="w-4 h-4" />} */}
                  {subItem.label}
                </span>
              </HeaderLink>
            </li>
          ))}
        </ul>
      </details>
    )}
  </li>
))}